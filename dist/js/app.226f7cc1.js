(function(){"use strict";var t={4401:function(t,n,e){var o=e(9963),i=e(6252),r=e(3577);const a={id:"app"},u=(0,i._)("header",null,[(0,i._)("h1",null,"Sleeping Mood")],-1),c={class:"boba"},d={class:"product-card"},l=["src","alt"],s=["onClick"],p={class:"empty-cart"},h=(0,i._)("p",null,"Корзина пуста",-1),m=[h],f={class:"cart"},w=(0,i._)("h2",null,"Корзина",-1),y={class:"quantity"},g=["onClick"],_=(0,i._)("footer",null,[(0,i._)("p",null,"© Sleeping Mood, 2023")],-1);function v(t,n,e,h,v,b){const P=(0,i.up)("Add");return(0,i.wg)(),(0,i.iD)("div",a,[u,(0,i._)("main",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(v.products,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"product-row",key:n},[(0,i._)("section",d,[(0,i._)("img",{src:t.image,alt:t.name},null,8,l),(0,i._)("h2",null,(0,r.zw)(t.name),1),(0,i._)("p",null,(0,r.zw)(t.description),1),(0,i._)("p",null,"Количество: "+(0,r.zw)(t.quantity),1),(0,i._)("button",{type:"button",onClick:t=>b.addToCart(n)},"В корзину",8,s)])])))),128))]),(0,i.wy)((0,i._)("div",p,m,512),[[o.F8,0===v.cart.length]]),(0,i.wy)((0,i._)("div",f,[w,(0,i.Uk)("В "),(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(v.cart,((t,n)=>((0,i.wg)(),(0,i.iD)("li",{key:n},[(0,i._)("p",null,[(0,i.Uk)((0,r.zw)(t.name)+" ",1),(0,i._)("span",y,(0,r.zw)(t.quantity),1)]),(0,i._)("button",{type:"button",onClick:t=>b.removeFromCart(n)},"Удалить",8,g)])))),128))]),(0,i._)("button",{type:"button",onClick:n[0]||(n[0]=(...t)=>b.checkout&&b.checkout(...t))},"Купить")],512),[[o.F8,v.cart.length>0]]),(0,i.Wm)(P,{onAddProduct:b.addProduct},null,8,["onAddProduct"]),_])}e(7658);const b=t=>((0,i.dD)("data-v-261c1ea7"),t=t(),(0,i.Cn)(),t),P={class:"modal"},q={class:"modal-content"},k=b((()=>(0,i._)("h2",null,"Добавить новый товар",-1))),C=b((()=>(0,i._)("label",{for:"name"},"Название:",-1))),x=b((()=>(0,i._)("label",{for:"description"},"Описание:",-1))),O=b((()=>(0,i._)("label",{for:"quantity"},"Количество:",-1))),M=b((()=>(0,i._)("label",{for:"image"},"Изображение (150x150):",-1))),F=["src"],D=b((()=>(0,i._)("button",{type:"submit"},"Сохранить",-1)));function j(t,n,e,r,a,u){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("button",{type:"button",class:"add3",onClick:n[0]||(n[0]=t=>a.showModal=!0)},"Добавить"),(0,i.wy)((0,i._)("div",P,[(0,i._)("div",q,[(0,i._)("span",{class:"close",onClick:n[1]||(n[1]=t=>a.showModal=!1)},"×"),k,(0,i._)("form",{onSubmit:n[7]||(n[7]=(0,o.iM)(((...t)=>u.addNewProduct&&u.addNewProduct(...t)),["prevent"]))},[C,(0,i.wy)((0,i._)("input",{type:"text",id:"name","onUpdate:modelValue":n[2]||(n[2]=t=>a.newProduct.name=t),required:""},null,512),[[o.nr,a.newProduct.name]]),x,(0,i.wy)((0,i._)("input",{type:"text",id:"description","onUpdate:modelValue":n[3]||(n[3]=t=>a.newProduct.description=t),required:"",placeholder:"Описание дивана. Здесь более подробное описание товара."},null,512),[[o.nr,a.newProduct.description]]),O,(0,i.wy)((0,i._)("input",{type:"number",id:"quantity","onUpdate:modelValue":n[4]||(n[4]=t=>a.newProduct.quantity=t),required:""},null,512),[[o.nr,a.newProduct.quantity]]),M,(0,i._)("input",{type:"file",id:"image",ref:"fileInput",onChange:n[5]||(n[5]=(...t)=>u.onFileChange&&u.onFileChange(...t))},null,544),a.newProduct.image?((0,i.wg)(),(0,i.iD)("img",{key:0,src:a.newProduct.image,alt:"Изображение"},null,8,F)):(0,i.kq)("",!0),D,(0,i._)("button",{type:"button",onClick:n[6]||(n[6]=t=>a.showModal=!1)},"Отмена")],32)])],512),[[o.F8,a.showModal]])])}e(2062);var U={data(){return{showModal:!1,newProduct:{name:"",description:"",quantity:"",image:""}}},methods:{onFileChange(t){const n=t.target.files[0];n&&(this.newProduct.image=URL.createObjectURL(n))},addNewProduct(){this.$emit("add-product",{...this.newProduct}),this.newProduct.name="",this.newProduct.description="",this.newProduct.quantity="",this.newProduct.image="",this.showModal=!1}}},z=e(3744);const A=(0,z.Z)(U,[["render",j],["__scopeId","data-v-261c1ea7"]]);var I=A,N={components:{Add:I},data(){return{products:[{name:"Rafl-2",description:"Описание дивана 1. Здесь более подробное описание товара.",quantity:5,image:e(7809)},{name:"Loko PRO",description:"Описание дивана 2. Здесь более подробное описание товара.",quantity:13,image:e(5970)},{name:"Carina Nova",description:"Описание дивана 3. Здесь более подробное описание товара.",quantity:8,image:e(2403)}],cart:[],showModal:!1,newProduct:{name:"",description:"",quantity:""}}},methods:{addToCart(t){if(this.products[t].quantity>0){this.products[t].quantity--;const n={name:this.products[t].name,quantity:1},e=this.cart.findIndex((t=>t.name===n.name));-1!==e?this.cart[e].quantity++:this.cart.push(n)}},removeFromCart(t){const n=this.cart[t],e=this.products.findIndex((t=>t.name===n.name));this.products[e].quantity+=1,n.quantity-=1,0===n.quantity&&this.cart.splice(t,1)},checkout(){this.cart.length>0&&(alert("Спасибо за покупку!"),this.cart=[])},addProduct(t){this.products.push(t)}}};const R=(0,z.Z)(N,[["render",v]]);var T=R;(0,o.ri)(T).mount("#app")},7809:function(t,n,e){t.exports=e.p+"img/1.f89922e4.png"},5970:function(t,n,e){t.exports=e.p+"img/2.44fd03f2.png"},2403:function(t,n,e){t.exports=e.p+"img/3.0581d3e3.png"}},n={};function e(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={exports:{}};return t[o].call(r.exports,r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(n,o,i,r){if(!o){var a=1/0;for(l=0;l<t.length;l++){o=t[l][0],i=t[l][1],r=t[l][2];for(var u=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(e.O).every((function(t){return e.O[t](o[c])}))?o.splice(c--,1):(u=!1,r<a&&(a=r));if(u){t.splice(l--,1);var d=i();void 0!==d&&(n=d)}}return n}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[o,i,r]}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.p="/d/"}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,o){var i,r,a=o[0],u=o[1],c=o[2],d=0;if(a.some((function(n){return 0!==t[n]}))){for(i in u)e.o(u,i)&&(e.m[i]=u[i]);if(c)var l=c(e)}for(n&&n(o);d<a.length;d++)r=a[d],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(l)},o=self["webpackChunkvue"]=self["webpackChunkvue"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(4401)}));o=e.O(o)})();
//# sourceMappingURL=app.226f7cc1.js.map